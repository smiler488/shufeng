// @ts-ignore;
import React, { useState, useEffect } from 'react';
// @ts-ignore;
import { ArrowLeft, Filter, Search, X, ChevronLeft, ChevronRight, BookOpen, Download, CheckCircle, Leaf, Globe, Microscope, Activity, Camera, Zap } from 'lucide-react'; // @ts-ignore;
import { useToast } from '@/components/ui';
import { LogoHeader } from '@/components/LogoHeader';
import { TabBar } from '@/components/TabBar';
export default function Products(props) {
  const {
    $w } =
  props;
  const {
    toast } =
  useToast();
  const [activeTab, setActiveTab] = useState('home');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [selectedProduct, setSelectedProduct] = useState(null);
  const [currentImageIndex, setCurrentImageIndex] = useState(0);
  const handleTabChange = (tabId) => {
    if (tabId === 'products') {
      setActiveTab(tabId);
    } else {
      $w.utils.navigateTo({
        pageId: tabId,
        params: {} });

    }
  };
  // 页面加载时检查URL参数，设置默认分类
  // 页面加载时检查URL参数，设置默认分类
  useEffect(() => {const categoryParam = $w.page.dataset.params.category;
    console.log('页面加载，分类参数:', categoryParam);
    if (categoryParam) {
      setSelectedCategory(categoryParam);
    }
  }, []);
  const categories = [{
    id: 'all',
    name: '全部产品' },
  {
    id: 'photosynthesis-gas',
    name: '光合-气体交换' },
  {
    id: 'photosynthesis-fluorescence',
    name: '光合-叶绿素荧光' },
  {
    id: 'phenotype',
    name: '植物表型' },
  {
    id: 'environment',
    name: '环境监测' }];

  const products = {
    'photosynthesis-gas': [{
      id: 'capts',
      name: '标准版植物冠层光合气体交换测量系统 CAPTS',
      category: '光合-气体交换',
      description: '用于盆栽或大田植物冠层（群体）光合作用、呼吸作用和蒸腾作用的全天侯连续、自动化测量系统。该系统实现了田间小区植物光合作用的全天候（除极端天气外）、自动化的原位监测，适用于植物光合作用研究、植物生理学、作物栽培与种质资源等研究领域。',
      features: ['全天候、自动化连续测量', '单个小区测量仅需1-3分钟', '配置专业数据分析软件', '高精度环境因子同步监测', '良好的防雨水性能', '配置远程监控模块'],
      specifications: {
        '主机供电': '220VAC，4.55A',
        '主机总功率': '1600W（16箱体）',
        '测量参数': 'CO2摩尔浓度、H2O摩尔浓度、光合有效辐射PAR、温度、相对湿度、气压等',
        '工作方式': '全自动模式，驱动测量箱并自动记录测量数据',
        '数据分析': '一键式分析软件',
        '顶盖透明度': '>95%',
        '箱体透光板透射率': '>85%',
        '测量箱气密性': '2×10⁻⁴s⁻¹',
        '测量箱尺寸': '1m×1m×1.2m/1.5m（L×W×H）',
        'CO2测量原理': 'IRGA红外吸收原理',
        'CO2准确度': '<1%测量范围',
        'CO2线性度': '>99%',
        'CO2范围': '0~1000 ppm（0~0.1%）',
        'CO2测量精度': '0.1 ppm',
        '气压测量范围': '15~115 kPa',
        '气压测量准确度': '±1.5%',
        '光量子传感器灵敏度': '0.2 mV/μmol m⁻²s⁻¹',
        '测量光波长范围': '410nm~655nm',
        '湿度测量范围': '0~100%RH',
        '湿度测量准确度': '±1.5%（0-40℃，0-90%RH）',
        '温度测量范围': '-40~80℃',
        '温度检测精度': '±0.2℃（0-40℃）' },

      images: ['https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop'],
      applications: ['大田作物原位测量', '水田（水稻）测量', '旱田环境测量', '植物光合作用研究', '植物生理学研究', '作物栽培与种质资源研究'],
      researchBackground: '叶片光合是单叶尺度的光合作用，一般研究植物上层成熟叶、最新完全展开叶，选择不同植物的相同叶位的叶片进行测量和对照分析，而忽略其它叶片的差异以及叶面积和株型结构的差异。冠层光合速率是单位土地面积上的全部光合组织器官在单位时间内固定的CO2速率。冠层光合是植物地上部分全部组织器官的光合作用，是光合组织器官在冠层空间结构及微气候环境条件下进行的实际光合速率的总和，受叶片光合能力和冠层3D结构的影响。冠层光合研究单位土地面积上的群体尺度光合作用，冠层光合与植物的生物量和产量更加直接相关。植物地上部分称为冠层，冠层光合作用是植物在群体尺度上的光合作用，是叶、鞘和穗等组织和器官在特定空间结构及微气候条件下进行的光合作用总和，能够表征植物群体的光合能力。提高冠层光合作用效率是增加植物碳汇能力、提高生物量及提高粮食产量潜力的重要途径。',
      literature: [{
        authors: 'Song, Qingfeng & Xiao, Han & Xiao, Xianglin & Zhu, Xinguang',
        title: 'A new canopy photosynthesis and transpiration measurement system (CAPTS) for canopy gas exchange research',
        journal: 'Agricultural and Forest Meteorology',
        year: '2016',
        volume: '217',
        pages: '101-107' },
      {
        authors: 'Song Q, Zhu XG',
        title: 'Measuring Canopy Gas Exchange Using CAnopy Photosynthesis and Transpiration Systems (CAPTS)',
        journal: 'Methods Mol Biol',
        year: '2018',
        volume: '1770',
        pages: '69-81' },
      {
        authors: 'Min Jia, Roberto Colombo, Micol Rossini, Marco Celesti, Jie Zhu, Sergio Cogliati, Tao Cheng, Yongchao Tian, Yan Zhu, Weixing Cao, Xia Yao',
        title: 'Estimation of leaf nitrogen content and photosynthetic nitrogen use efficiency in wheat using sun-induced chlorophyll fluorescence at the leaf and canopy scales',
        journal: 'European Journal of Agronomy',
        year: '2021',
        volume: '122',
        pages: '126192' },
      {
        authors: 'Song Q, Van Rie J, Den Boer B, Galle A, Zhao H, Chang T, He Z, Zhu XG',
        title: 'Diurnal and Seasonal Variations of Photosynthetic Energy Conversion Efficiency of Field Grown Wheat',
        journal: 'Front Plant Sci',
        year: '2022',
        volume: '13',
        pages: '817654' },
      {
        authors: 'Linxiong Mao, Qingfeng Song, Ming Li, Xinyu Liu, Zai Shi, Faming Chen, Gen-yun Chen, Huiqiong Zheng, Xin-Guang Zhu',
        title: 'Decreasing photosystem antenna size by inhibiting chlorophyll synthesis: A double-edged sword for photosynthetic efficiency',
        journal: 'Crop and Environment',
        year: '2023',
        volume: '2',
        issue: '1',
        pages: '46-58' },
      {
        authors: 'Yixian Cheng, Feng Xiao, Dunyou Huang, Ying Yang, Wangda Cheng, Shichao Jin, Ganghua Li, Yanfeng Ding, Matthew J. Paul, Zhenghui Liu',
        title: 'High canopy photosynthesis before anthesis explains the outstanding yield performance of rice cultivars with ideal plant architecture',
        journal: 'Field Crops Research',
        year: '2024',
        volume: '306',
        pages: '109223' },
      {
        authors: 'Shuyuan He, Xiuni Li, Menggen Chen, Xiangyao Xu, Wenjing Zhang, Huiling Chi, Panxia Shao, Fenda Tang, Tao Gong, Ming Guo',
        title: 'Excellent Canopy Structure in Soybeans Can Improve Their Photosynthetic Performance and Increase Yield',
        journal: 'Agriculture',
        year: '2024',
        volume: '14',
        issue: '10',
        pages: '1783' }] },

    {
      id: 'p-chamber',
      name: '植物非叶光合作用测量仪 P-Chamber',
      category: '光合-气体交换',
      description: '植物非叶光合作用测量仪P-Chamber是专门用于测量植物非叶组织（如茎、果实、花、根等）光合作用和呼吸作用的精密仪器。该系统采用高精度气体分析技术和智能控制算法，能够准确测量非叶器官的CO2交换速率、蒸腾速率等关键生理参数，为植物生理学研究、作物育种和农业生产提供重要的数据支撑。',
      features: ['非叶组织专用测量', '高精度气体分析', '便携式一体化设计', '多参数同步测量', '智能温湿度控制', '无线数据传输', '长时间连续监测', '可视化数据分析'],
      specifications: {
        '测量原理': '开放式气体交换法',
        '测量范围': 'CO2: 0-2000 ppm, H2O: 0-40000 ppm',
        '测量精度': 'CO2: ±0.5 ppm, H2O: ±0.1%',
        '响应时间': '<10秒',
        '流速控制': '0-2000 mL/min 可调',
        '腔室体积': '0.5-5L 可定制',
        '温度控制范围': '5-45°C',
        '温度控制精度': '±0.1°C',
        '湿度控制范围': '30-90% RH',
        '湿度控制精度': '±2% RH',
        '光照强度': '0-2000 μmol m⁻²s⁻¹',
        '光照均匀性': '>95%',
        '数据采集频率': '1-10 Hz 可调',
        '存储容量': '32GB 内置存储',
        '电池续航': '连续工作8小时',
        '充电时间': '3小时快充',
        '通信接口': 'WiFi、蓝牙、USB',
        '显示屏': '7英寸彩色触摸屏',
        '防护等级': 'IP54',
        '工作温度': '-10°C to 50°C',
        '重量': '3.5kg',
        '尺寸': '350×280×180mm (L×W×H)' },

      images: ['https://images.unsplash.com/photo-1581092795360-fd1ca04f0958?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1542831371-29b0f74f9713?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop'],
      applications: ['茎干光合作用研究', '果实光合与呼吸测定', '花朵光合生理研究', '根系呼吸作用测量', '非叶器官光合贡献评估', '作物品种筛选', '植物逆境生理研究', '精准农业管理'],
      researchBackground: '传统植物光合作用研究主要关注叶片，但越来越多的研究表明，植物的非叶组织（茎、果实、花、根等）在植物整体碳平衡中发挥着重要作用。特别是在某些作物中，茎干和果实的光合贡献可能占总光合作用的10-30%。然而，由于非叶组织的形态多样性和测量技术限制，这些重要器官的光合功能长期被忽视。P-Chamber植物非叶光合作用测量仪的问世，填补了这一技术空白，为全面理解植物光合生理机制提供了强有力的工具支撑。',
      technicalHighlights: ['采用开放式气体交换技术，避免密闭式测量的局限性', '配备高精度红外CO2分析仪和湿度传感器，确保数据准确性', '智能温湿度控制系统，模拟自然环境条件', '可调节光照系统，支持不同光强下的光合响应曲线测定', '模块化腔室设计，适应不同形态和尺寸的非叶组织', '实时数据显示和分析功能，支持现场快速决策'] },
    {
      id: 'c-ghg',
      name: '土壤碳通量动态监测系统 C-GHG',
      category: '光合-气体交换',
      description: '土壤碳通量动态监测系统C-GHG是专为土壤和植物冠层温室气体通量长期、连续、自动化监测而设计的高精度测量系统。该系统集成了高精度CH4/N2O/CO/CO2温室气体分析模块、多路智能控制系统和全自动碳通量长期测量室，能够实现多点位、长时间的温室气体通量动态监测，为碳循环研究、生态环境监测和"双碳"目标实现提供关键技术支撑。',
      features: ['多点位同步监测', '高精度温室气体分析', '全自动长期连续运行', '智能循环控制', '远程数据管理', '恶劣环境适应性', '可扩展模块化设计', '实时数据分析'],
      specifications: {
        '系统架构': '分布式多通道测量系统',
        '支持测量箱数量': '2-48个可配置',
        '测量气体种类': 'CH4、N2O、CO、CO2、H2O',
        'CH4测量范围': '0-10 ppm',
        'CH4测量精度': '±0.5 ppb (1秒平均)',
        'CH4测量技术': '光反馈-腔增强吸收光谱技术',
        'N2O测量范围': '0-500 ppb',
        'N2O测量精度': '±0.4 ppb (1秒平均)',
        'N2O测量技术': '光反馈-腔增强吸收光谱技术',
        'CO2测量范围': '0-2000 ppm',
        'CO2测量精度': '±3.5 ppm (1秒平均)',
        'CO测量范围': '0-100 ppm',
        'CO测量精度': '±0.5 ppb',
        'H2O测量范围': '0-40000 ppm',
        'H2O测量精度': '±45 ppm (1秒平均)',
        '测量频率': '1 Hz (每秒1次)',
        '响应时间': 'T90 < 2秒 (N2O)',
        '主机供电': '220VAC ±10%, 50/60Hz',
        '主机功率': '1000W (满负荷)',
        '数据存储': '1TB SSD + 云存储',
        '通信方式': '4G/5G、以太网、卫星通信',
        '防护等级': 'IP67 (测量箱), IP55 (控制箱)',
        '工作温度': '-30°C to 60°C',
        '工作湿度': '0-100% RH (无凝结)',
        '测量箱材质': '不锈钢 + 高透光PC板',
        '测量箱尺寸': '1×1×1.2m (标准), 可定制',
        '顶盖透光率': '>95% (400-700nm)',
        '侧面透光率': '>85% (400-700nm)',
        '箱体气密性': '<2×10⁻⁴ s⁻¹',
        '开闭机制': '电动推杆自动控制',
        '循环控制': '4循环智能开闭模式',
        '单次测量时间': '3-5分钟/箱',
        '系统响应延迟': '<30秒',
        '校准周期': '自动校准，每月1次',
        '维护间隔': '6个月 (常规维护)',
        '软件平台': 'Web端 + 移动端 + 桌面端',
        '数据格式': 'CSV、Excel、NetCDF',
        '报警功能': '异常数据自动报警',
        '远程控制': '支持远程参数设置和系统重启' },

      images: ['https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop'],
      applications: ['土壤碳通量长期监测', '农田生态系统碳循环研究', '森林土壤温室气体排放监测', '湿地甲烷排放动态研究', '草地生态系统碳平衡评估', '城市绿地碳汇功能评估', '气候变化影响研究', '碳减排效果评估', '生态环境修复监测', '精准农业碳管理'],
      researchBackground: '在全球应对变暖、"双碳"目标成为多国共识的背景下，土壤作为陆地生态系统最大碳库，其碳通量（CO₂、CH₄等温室气体排放/吸收）是碳循环关键环节，亟需精准监测以支撑碳核算与减排策略制定；但过往人工采样、静态箱法等传统技术存在耗时久、覆盖范围小、数据连续性差的问题，难以捕捉碳通量的昼夜波动、季节变化等动态特征，无法满足精细化研究需求。随着生态环境研究向"高频、实时、多参数"发展，自动化、高精度监测设备的需求日益迫切，C-GHG土壤碳通量动态监测系统由此应运而生，填补了土壤碳通量动态连续监测的技术空白。',
      technicalHighlights: ['采用光反馈-腔增强吸收光谱技术，实现ppb级超高测量精度', '多通道智能循环控制，支持48个测量箱同时运行', '四循环开闭模式，大幅提高测量效率', '全自动长期运行，无需人工干预', '恶劣环境适应性设计，支持-30°C到60°C工作温度', '云端数据管理平台，支持实时数据查看和分析', '智能报警系统，异常情况及时通知', '模块化设计，可根据需求灵活扩展'] }],

    'photosynthesis-fluorescence': [{
      id: 'fdm-m',
      name: '叶绿素荧光成像系统FDM-M系列',
      category: '光合-叶绿素荧光',
      description: 'FDM-M系列是由一个测量箱体、一台主机、一个显示屏组成的台式测量系统，该系列包括FDM-M1定焦版、FDM-M2变焦版、FDM-M3多光谱版三个型号。FDM-M系列的测量面积为15cm*20cm，搭载可变焦相机最大成像面积为23*23cm，适用于微藻、叶片及拟南芥、烟草、番茄等小型盆栽植物的测量。通过检测植物叶片叶绿素荧光信号，直观呈现光合生理状态，为植物生理生态、农业科研等提供量化分析工具。',
      features: ['高分辨率500万像素成像', '成像范围15*20cm，变焦版最大23*23cm', '可选配自动变焦镜头', '自定义框选区域分析', '自动去除暗背景功能', '图像与数据本地自动存储', '支持FLC、SL等自动测量曲线', '可选配多光谱荧光成像', '提供API接口支持集成开发', '实时显示15种以上荧光参数'],
      specifications: {
        '产品型号': 'FDM-M1定焦版、FDM-M2变焦版、FDM-M3多光谱版',
        '图像分辨率': '≥500万像素',
        '标准成像范围': '≥15cm*20cm',
        '变焦最大成像面积': '23*23cm（FDM-M2/FDM-M3）',
        '激发光源': '450nm蓝光',
        '叶片吸光度测量光源': '红光、远红光',
        '光强均匀度变异': '<5% (目标范围内)',
        '激发光标准光强': '0.5 umol m⁻²s⁻¹（可调节）',
        '饱和脉冲SP最大光强': '4200 umol m⁻²s⁻¹（可调节）',
        '光化光AL强度': '1800 umol m⁻²s⁻¹（可调节）',
        '实时荧光参数输出': '≥15种，包括Fo, Fm, Fv, Fv/Fm, Fm\', Ft, Y(II), NPQ, Y(NPQ), Y(NO), Fo\', qP, qL, qN, ETR等',
        '叶片吸光度检测': '具备',
        '图像输出格式': 'TIFF, JPG',
        '工作温度': '5~45摄氏度，非凝结',
        '控制单元配置': '固态硬盘≥1T，显示器≥24英寸，内存≥16G',
        '软件功能': '设备连接、自定义存储路径、自动去除背景噪点、光强设置、图像采集与分析',
        '自动快速光曲线测量': '支持Fast Light Curve，光强梯度、测量时长可设置，进度实时查看',
        '自动荧光诱导曲线测量': '支持Slow Kinetics暗弛豫曲线，序列数组及光强参数可设置',
        '平均值计算': '自动去除暗背景，平均值计算和保存功能',
        '数据自动存储': '支持图像及参数数据本地实时存储，无需手动导出',
        '集成开发支持': '提供API接口，可控制拍摄任务，指定存储目录',
        '感兴趣区域框选计算': '支持自定义形状框选，多区域比较，导出EXCEL表格',
        '伪彩色调节': '软件内置≥12种伪彩色标尺，可实时调节成像伪彩' },

      images: ['https://images.unsplash.com/photo-1581092795360-fd1ca04f0958?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1542831371-29b0f74f9713?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop'],
      applications: ['光系统II机制解析', '作物表型与育种筛选', '病虫害早期诊断', '逆境生理生态研究', '胁迫响应机制研究', '作物生理状态监测', '遗传育种筛选', '药物/农药对光合系统影响评估'],
      sampleTypes: ['微藻', '植物叶片', '拟南芥', '烟草', '番茄', '瞿麦', '其他小型盆栽植物'],
      researchBackground: '通过检测植物叶片叶绿素荧光信号，直观呈现光合生理状态。能测定PSⅡ最大光化学效率、光化学猝灭等参数，用于研究植物光合效率、逆境胁迫（如干旱、高温、重金属）响应、遗传育种筛选及药物/农药对光合系统的影响等，以成像方式可视化不同区域光合性能差异，为植物生理生态、农业科研等提供量化分析工具。',
      measurableParameters: {
        '暗适应状态的最小荧光': 'Fo',
        '暗适应后饱和脉冲测量的最大荧光': 'Fm',
        '作用光下的稳态荧光': 'Ft',
        '作用光下的最小荧光': 'Fo',
        '作用光下的最大荧光': 'Fm',
        '暗适应之后的最大可变荧光': 'Fv',
        '光系统II最大量子效率': 'Fv/Fm',
        '作用光下光系统II实际量子效率': 'Y(II)',
        '电子传递速率': 'ETR=YII*PAR*0.5*abs',
        '非光化学猝灭系数': 'NPQ, qN',
        '光化学淬灭系数': 'qP, qL',
        '非光化学淬灭耗散的能量比例': 'Y(NPQ)',
        '非调节性能量耗散的比例': 'Y(NO)' },

      technicalHighlights: ['高分辨率500万像素成像，清晰呈现荧光细节', '可变焦设计，支持15-23cm成像范围灵活调节', '实时显示15种以上荧光参数，每个参数均可显示荧光彩色图像', '支持Fast Light Curve和Slow Kinetics自动测量曲线', '自定义框选感兴趣区域，支持多区域数据比较分析', '提供API接口，支持系统集成和二次开发', '自动去除暗背景和平均值计算功能，提高数据准确性', '内置12种以上伪彩色标尺，满足不同研究需求'] },
    {
      id: 'fdm-s',
      name: '大面积叶绿素荧光成像系统FDM-S系列',
      category: '光合-叶绿素荧光',
      description: 'FDM-S系列为一体化立式设计，该系列包括FDM-S1定焦版、FDM-S2变焦版、FDM-S3多光谱版三个型号。FDM-S系列的测量面积为35cm*40cm，适用于各类中大型盆栽植物测量及高通量多孔穴盘筛选。通过检测植物叶片叶绿素荧光信号，直观呈现光合生理状态，为植物生理生态、农业科研等提供量化分析工具。',
      features: ['高分辨率500万像素', '成像范围35*40cm', '可选配自动变焦镜头，测量尺度切换无压力', '自定义框选，同步获取整株/单叶数据', '自动去除暗背景，平均值计算及保存功能', '图像与数据本地自动存储', '支持FLC、SL等自动测量曲线，时间、光强可设置', '可选配多光谱荧光成像及荧光蛋白成像', '提供API接口，支持集成开发'],
      specifications: {
        '产品型号': 'FDM-S1定焦版、FDM-S2变焦版、FDM-S3多光谱版',
        '图像分辨率': '≥500万像素',
        '成像范围': '≥35cm*40cm，适合高通量多孔穴盘筛选、中大型盆栽植物',
        '激发光源': '450nm蓝光',
        '叶片吸光度测量光源': '红光，远红光',
        '光强均匀度变异': '<5% (目标范围内)',
        '激发光标准光强': '0.5 umol m-2 s-1（可调节）',
        '饱和脉冲SP最大光强': '5000 umol m-2 s-1（可调节）',
        '光化光AL强度': '1800 umol m-2 s-1（可调节）',
        '实时荧光参数输出': '≥15种，包括Fo, Fm, Fv, Fv/Fm, Fm\', Ft, Y(II), NPQ, Y(NPQ), Y(NO), Fo\', qP, qL, qN, ETR等',
        '叶片吸光度检测': '具备',
        '图像输出格式': 'TIFF，JPG',
        '工作温度': '5~45摄氏度，非凝结',
        '软件功能': '设备连接，自定义存储路径，自动去除背景噪点，测量光、光化光及饱和光的光强设置，图像采集与分析功能',
        '自动快速光曲线测量': '支持Fast Light Curve快速光曲线荧光成像自动测量，光强梯度、测量时长等参数可设置，测量进度可实时查看',
        '自动荧光诱导曲线测量': '支持Slow Kinetics暗弛豫曲线荧光成像自动测量，光下序列数组、暗下序列数组及光强参数可设置，测量进度可实时查看',
        '平均值计算': '自动去除暗背景，平均值计算和保存功能',
        '数据自动存储': '支持图像及参数数据本地实时存储，无需手动导出',
        '集成开发支持': '提供API接口，可控制模块执行拍摄任务，可指定图像存储目录',
        '感兴趣区域框选计算': '可手动框选感兴趣的测量区域，可自定义形状（圆形、矩形等）框选，并对选中的多个区域内的荧光参数值进行比较，并导出到EXCEL表格中，支持下载查看',
        '伪彩色调节': '软件内置至少12种伪彩色标尺，可实时调节成像伪彩',
        '控制单元': '固态硬盘容量≥1T，显示器≥24英寸，内存≥16G'
      },

      images: ['https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop'],
      applications: ['光系统II机制解析', '作物表型与育种筛选', '病虫害早期诊断', '逆境生理生态研究', '胁迫响应机制', '作物生理状态监测'],
      sampleTypes: ['中大型盆栽植物', '高通量多孔穴盘筛选'],
      researchBackground: '通过检测植物叶片叶绿素荧光信号，直观呈现光合生理状态。能测定PSⅡ最大光化学效率、光化学猝灭等参数，用于研究植物光合效率、逆境胁迫（如干旱、高温、重金属）响应、遗传育种筛选及药物/农药对光合系统的影响等，以成像方式可视化不同区域光合性能差异，为植物生理生态、农业科研等提供量化分析工具。',
      measurableParameters: {
        '暗适应状态的最小荧光': 'Fo',
        '暗适应后饱和脉冲测量的最大荧光': 'Fm',
        '作用光下的稳态荧光': 'Ft',
        '作用光下的最小荧光': 'Fo',
        '作用光下的最大荧光': 'Fm',
        '暗适应之后的最大可变荧光': 'Fv',
        '光系统II最大量子效率': 'Fv/Fm',
        '作用光下光系统II实际量子效率': 'Y(II)',
        '电子传递速率': 'ETR=YII*PAR*0.5*abs',
        '非光化学猝灭系数': 'NPQ, qN',
        '光化学淬灭系数': 'qP, qL',
        '非光化学淬灭耗散的能量比例': 'Y(NPQ)',
        '非调节性能量耗散的比例': 'Y(NO)'
      },
      technicalHighlights: [
        '高分辨率500万像素成像，清晰呈现荧光细节',
        '一体化立式设计，适合实验室空间限制',
        '可选配自动变焦镜头，测量尺度切换无压力',
        '实时显示15种以上荧光参数，每个参数均可显示荧光彩色图像',
        '支持Fast Light Curve和Slow Kinetics自动测量曲线',
        '自定义框选感兴趣区域，支持多区域数据比较分析',
        '提供API接口，支持系统集成和二次开发',
        '自动去除暗背景和平均值计算功能，提高数据准确性'
      ]
    },
    {
      id: 'fdm-l',
      name: '吊装式叶绿素荧光成像系统FDM-L系列',
      category: '光合-叶绿素荧光',
      description: 'FDM-L作为专业的吊装式植物表型测量设备，采用模块化设计理念，可高效集成于田间表型平台及室内可移动桁架上，与其他表型采集模块深度兼容，实现植物生长数据的连续动态采集。该系列测量面积为35cm*40cm，既满足单株植物精细化测量需求，又适配行距≥50cm的田间种植模式（如玉米、大豆等中耕作物）。',
      features: ['高分辨率500万像素', '成像范围35*40cm', '模块化设计，可与表型平台深度兼容', '自定义框选，同步获取整株/单叶数据', '自动去除暗背景，平均值计算及保存功能', '图像与数据本地自动存储', '支持FLC、SL等自动测量曲线，时间、光强可设置', '可选配多光谱荧光成像及荧光蛋白成像', '提供API接口，支持集成开发'],
      specifications: {
        '产品型号': 'FDM-L系列吊装式',
        '图像分辨率': '≥500万像素',
        '成像范围': '≥35cm*40cm，适合吊装，可集成于植物表型平台',
        '激发光源': '450nm蓝光',
        '叶片吸光度测量光源': '红光，远红光',
        '光强均匀度变异': '<5% (目标范围内)',
        '激发光标准光强': '0.5 umol m-2 s-1（可调节）',
        '饱和脉冲SP最大光强': '5000 umol m-2 s-1（可调节）',
        '光化光AL强度': '1800 umol m-2 s-1（可调节）',
        '实时荧光参数输出': '≥15种，包括Fo, Fm, Fv, Fv/Fm, Fm\', Ft, Y(II), NPQ, Y(NPQ), Y(NO), Fo\', qP, qL, qN, ETR等',
        '叶片吸光度检测': '具备',
        '图像输出格式': 'TIFF，JPG',
        '工作温度': '5~45摄氏度，非凝结',
        '软件功能': '设备连接，自定义存储路径，自动去除背景噪点，测量光、光化光及饱和光的光强设置，图像采集与分析功能',
        '自动快速光曲线测量': '支持Fast Light Curve快速光曲线荧光成像自动测量，光强梯度、测量时长等参数可设置，测量进度可实时查看',
        '自动荧光诱导曲线测量': '支持Slow Kinetics暗弛豫曲线荧光成像自动测量，光下序列数组、暗下序列数组及光强参数可设置，测量进度可实时查看',
        '平均值计算': '自动去除暗背景，平均值计算和保存功能',
        '数据自动存储': '支持图像及参数数据本地实时存储，无需手动导出',
        '集成开发支持': '提供API接口，可控制模块执行拍摄任务，可指定图像存储目录',
        '感兴趣区域框选计算': '可手动框选感兴趣的测量区域，可自定义形状（圆形、矩形等）框选，并对选中的多个区域内的荧光参数值进行比较，并导出到EXCEL表格中，支持下载查看',
        '伪彩色调节': '软件内置至少12种伪彩色标尺，可实时调节成像伪彩',
        '控制单元': '固态硬盘容量≥1T，显示器≥24英寸，内存≥16G'
      },

      images: ['https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1542831371-29b0f74f9713?w=800&h=600&fit=crop'],
      applications: ['光系统II机制解析', '作物表型与育种筛选', '病虫害早期诊断', '逆境生理生态研究', '胁迫响应机制', '作物生理状态监测'],
      sampleTypes: ['中大型盆栽植物', '田间植物'],
      researchBackground: '通过检测植物叶片叶绿素荧光信号，直观呈现光合生理状态。能测定PSⅡ最大光化学效率、光化学猝灭等参数，用于研究植物光合效率、逆境胁迫（如干旱、高温、重金属）响应、遗传育种筛选及药物/农药对光合系统的影响等，以成像方式可视化不同区域光合性能差异，为植物生理生态、农业科研等提供量化分析工具。',
      measurableParameters: {
        '暗适应状态的最小荧光': 'Fo',
        '暗适应后饱和脉冲测量的最大荧光': 'Fm',
        '作用光下的稳态荧光': 'Ft',
        '作用光下的最小荧光': 'Fo',
        '作用光下的最大荧光': 'Fm',
        '暗适应之后的最大可变荧光': 'Fv',
        '光系统II最大量子效率': 'Fv/Fm',
        '作用光下光系统II实际量子效率': 'Y(II)',
        '电子传递速率': 'ETR=YII*PAR*0.5*abs',
        '非光化学猝灭系数': 'NPQ, qN',
        '光化学淬灭系数': 'qP, qL',
        '非光化学淬灭耗散的能量比例': 'Y(NPQ)',
        '非调节性能量耗散的比例': 'Y(NO)'
      },
      technicalHighlights: [
        '专业的吊装式植物表型测量设备，采用模块化设计理念',
        '可高效集成于田间表型平台及室内可移动桁架上',
        '与其他表型采集模块深度兼容，实现植物生长数据的连续动态采集',
        '高分辨率500万像素成像，清晰呈现荧光细节',
        '适配行距≥50cm的田间种植模式（如玉米、大豆等中耕作物）',
        '实时显示15种以上荧光参数，每个参数均可显示荧光彩色图像',
        '支持Fast Light Curve和Slow Kinetics自动测量曲线',
        '提供API接口，支持系统集成和二次开发'
      ]
    },
    {
      id: 'fdm-r',
      name: '可翻转叶绿素荧光成像系统FDM-R系列',
      category: '光合-叶绿素荧光',
      description: 'FDM-R系列成像箱体可移动、可旋转、可升降。该系列包括FDM-R1小尺寸版、FDM-R2大面积版两个型号。FDM-R1的测量面积为15cm*20cm，R2的测量面积为35cm*40cm。可拍摄植物冠层及侧面，适用于各类中大型盆栽植物测量及高通量多孔穴盘筛选。',
      features: ['高分辨率500万像素', '成像范围15*20cm / 35*40cm', '箱体可移动、可旋转、可升降', '自定义框选，同步获取整株/单叶数据', '自动去除暗背景，平均值计算及保存功能', '图像与数据本地自动存储', '支持FLC、SL等自动测量曲线，时间、光强可设置', '可选配多光谱荧光成像及荧光蛋白成像', '提供API接口，支持集成开发'],
      specifications: {
        '产品型号': 'FDM-R1小尺寸版、FDM-R2大面积版',
        '图像分辨率': '≥500万像素',
        '成像范围': '≥15cm*20cm / 35cm*40cm，适合高通量多孔穴盘筛选、中大型盆栽植物',
        '激发光源': '450nm蓝光',
        '叶片吸光度测量光源': '红光，远红光',
        '光强均匀度变异': '<5% (目标范围内)',
        '激发光标准光强': '0.5 umol m-2 s-1（可调节）',
        '饱和脉冲SP最大光强': '5000 umol m-2 s-1（可调节）',
        '光化光AL强度': '1800 umol m-2 s-1（可调节）',
        '实时荧光参数输出': '≥15种，包括Fo, Fm, Fv, Fv/Fm, Fm\', Ft, Y(II), NPQ, Y(NPQ), Y(NO), Fo\', qP, qL, qN, ETR等',
        '叶片吸光度检测': '具备',
        '图像输出格式': 'TIFF，JPG',
        '工作温度': '5~45摄氏度，非凝结',
        '软件功能': '设备连接，自定义存储路径，自动去除背景噪点，测量光、光化光及饱和光的光强设置，图像采集与分析功能',
        '自动快速光曲线测量': '支持Fast Light Curve快速光曲线荧光成像自动测量，光强梯度、测量时长等参数可设置，测量进度可实时查看',
        '自动荧光诱导曲线测量': '支持Slow Kinetics暗弛豫曲线荧光成像自动测量，光下序列数组、暗下序列数组及光强参数可设置，测量进度可实时查看',
        '平均值计算': '自动去除暗背景，平均值计算和保存功能',
        '数据自动存储': '支持图像及参数数据本地实时存储，无需手动导出',
        '集成开发支持': '提供API接口，可控制模块执行拍摄任务，可指定图像存储目录',
        '感兴趣区域框选计算': '可手动框选感兴趣的测量区域，可自定义形状（圆形、矩形等）框选，并对选中的多个区域内的荧光参数值进行比较，并导出到EXCEL表格中，支持下载查看',
        '伪彩色调节': '软件内置至少12种伪彩色标尺，可实时调节成像伪彩',
        '控制单元': '固态硬盘容量≥1T，显示器≥24英寸，内存≥16G'
      },

      images: ['https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop'],
      applications: ['光系统II机制解析', '作物表型与育种筛选', '病虫害早期诊断', '逆境生理生态研究', '胁迫响应机制', '作物生理状态监测'],
      sampleTypes: ['中大型盆栽植物', '高通量多孔穴盘筛选'],
      researchBackground: '通过检测植物叶片叶绿素荧光信号，直观呈现光合生理状态。能测定PSⅡ最大光化学效率、光化学猝灭等参数，用于研究植物光合效率、逆境胁迫（如干旱、高温、重金属）响应、遗传育种筛选及药物/农药对光合系统的影响等，以成像方式可视化不同区域光合性能差异，为植物生理生态、农业科研等提供量化分析工具。',
      measurableParameters: {
        '暗适应状态的最小荧光': 'Fo',
        '暗适应后饱和脉冲测量的最大荧光': 'Fm',
        '作用光下的稳态荧光': 'Ft',
        '作用光下的最小荧光': 'Fo',
        '作用光下的最大荧光': 'Fm',
        '暗适应之后的最大可变荧光': 'Fv',
        '光系统II最大量子效率': 'Fv/Fm',
        '作用光下光系统II实际量子效率': 'Y(II)',
        '电子传递速率': 'ETR=YII*PAR*0.5*abs',
        '非光化学猝灭系数': 'NPQ, qN',
        '光化学淬灭系数': 'qP, qL',
        '非光化学淬灭耗散的能量比例': 'Y(NPQ)',
        '非调节性能量耗散的比例': 'Y(NO)'
      },
      technicalHighlights: [
        '成像箱体可移动、可旋转、可升降，灵活适应不同测量需求',
        '可拍摄植物冠层及侧面，提供多角度测量能力',
        '高分辨率500万像素成像，清晰呈现荧光细节',
        '提供两种型号：FDM-R1小尺寸版（15cm*20cm）和FDM-R2大面积版（35cm*40cm）',
        '适用于各类中大型盆栽植物测量及高通量多孔穴盘筛选',
        '实时显示15种以上荧光参数，每个参数均可显示荧光彩色图像',
        '支持Fast Light Curve和Slow Kinetics自动测量曲线',
        '提供API接口，支持系统集成和二次开发'
      ]
    }],

    'phenotype': [    {
      id: 'mctp',
      name: '轨道式田间高通量植物表型平台mCTP',
      category: '植物表型',
      description: '移动式植物光合表型平台系统拥有多项自有技术，整合了高光谱成像、激光雷达成像、红外热成像、可见光成像、荧光成像以及自动化测量等技术，实现对田间作物光合生理表型和冠层结构表型的高通量、自动化监测。日监测通量800-1600个样本。',
      features: ['田间/温室光合表型性状检测系统', '灵活设置测量区块', '可进行远程控制', '高通量、高效率、高准确性', '"sensor to plant"模式，对被测植物零扰动', '配置宽光谱光源系统，提供可控光环境', '集成传感器', '图形化的数据分析软件，界面友好', '系统可远程控制，数据无线远程传输', '轨道覆盖范围灵活，拓展性好'],
      specifications: {
        '系统功能': '田间/温室光合表型性状检测系统',
        '监测通量': '日监测800-1600个样本',
        '测量模式': '"sensor to plant"模式，对被测植物零扰动',
        '传感器类型': '高光谱成像、激光雷达点云、荧光成像、可见光成像、红外热成像',
        '远程控制': '支持，数据无线远程传输',
        '轨道覆盖范围': '灵活可调，拓展性好'
      },

      images: ['https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop'],
      applications: ['田间育种', '品种筛选', '生长监测', '产量预测', '植物光合作用研究', '植物表型分析'],
      sampleTypes: ['适用于田间、大棚、玻璃温室内的植物原位测量'],
      researchBackground: '在智慧农业推进与作物育种效率提升的需求下，田间植物表型（如株高、叶面积、生长动态、抗逆性等）的高通量、精准化监测成为解析作物生长规律、优化育种筛选及指导田间管理的关键；但传统表型测量依赖人工采样，不仅耗时费力、主观性强，还易对作物造成损伤，且难以实现大范围田间作物的连续动态监测，而早期表型设备多局限于室内环境，无法模拟田间复杂光照、土壤、气候条件下的植物真实生长状态。随着植物表型研究向"田间原位、高通量、多维度、自动化"发展，适配田间场景的专用表型监测设备需求日益迫切，m-CTP田间轨道式植物表型平台由此研发，填补了田间植物表型高效精准监测的技术空白，为作物育种、农业生产优化及植物生理生态研究提供核心支撑。',
      measurableParameters: {
        'RGB成像单元': '株高、株宽、质心坐标、覆盖度、叶面积、周长、凸包最长轴、凸包最短轴、凸包顶点数、最小外接椭圆横坐标、最小外接椭圆纵坐标、最小外接椭圆长轴长、最小外接椭圆短轴长、最小外接圆直径、最小外接矩形长度、最小外接矩形宽度、植物绿色等级、植物投影面积、熵值、均匀度、标准差、三阶矩、小梯度优势、灰度分布不均匀性、灰度均值、灰度熵、混合熵、逆差分矩、梯度标准差、对比度、平均值、平滑度、相关性、大梯度优势、梯度分别不均匀性、梯度均值、梯度熵、差分矩、灰度标准差、能量',
        '高光谱成像单元': '宽度绿度指数：归一化差异植被指数(NDV)、三角形植被指数(TV)、绿色归一化差异植被指数(GDV川)、差异化植被指数(DV)、增强植被指数(EV)、大气阻抗植被指数(ARV)、归一化差异红边植被指数(NDRE)、比值植被指数(RVI)、窄度绿度指数：红边归一化植被指数(NDVⅥ705)、红边指数(VOG)、光利用率指数：光化学植被指数(PR)、结构不敏感色素指数(SP)、干旱或碳衰减指数：植被衰减指数(PSRI)、叶色素指数：土壤调节植被指数(SAV)、最优化土壤调节植被指数(OSAV)、转换叶绿素指吸收指数(TCARI)、类胡萝卜素反射指数1(CRI1)、类胡萝卜素反射指数 2(CRI2)、花青素反射指数1(ARI1)、花青素反射指数2(ARI2)、特定色素简单比值指数PSSRa、特定色素简单比值指数PSSRb、冠层水分含量：水波段指数(WB)、反演指数：SPAD(叶绿素相对含量)、饱和光下光合速率、氮含量、叶绿素A含量、叶绿素B含量',
        '激光雷达单元': '株高、株宽、冠幅、植株分层切片、植株分层投影面积、叶面积',
        '热红外单元': '植物表面温度，干旱胁迫研究、蒸腾研究',
        '多视角立体成像三维点云单元': '株高、株宽、冠幅、植物投影面积、植物占空体积、植物包围体积、植物正面/底面投影包围面积、植物正面/底面投影凸包面积、植被体素个数、植株质心质心位置、提取植物骨架，叶片分割、叶长、叶宽、叶向值、叶面积、叶倾角、植株分层投影面积、冠层光线分布模拟计算、计算冠层光合速率',
        '叶绿素荧光成像单元': '获取荧光参数Fo、Fm、Ft、Fm\'、Fo\',计算标准光合荧光参数Fv/Fm、PSII、NPQ等。分析植物生理状态、表征植物光合作用效率，用于植物衰老研究等'
      }
    },
    {
      id: 'm-ctp-greenhouse',
      name: '温室盆栽高通量植物表型成像系统m-CTP',
      category: '植物表型',
      description: '温室盆栽高通量植物表型成像系统由盆栽传送单元、成像暗室（支持多个）、RGB成像单元、多视角立体成像三维点云单元、高光谱成像单元、激光雷达单元、热成像单元、叶绿素荧光成像单元、自动浇水单元、自动称重单元、控制系统及分析软件组成。该系统能够对水稻、玉米、花卉及蔬菜等盆栽植物的株高、株宽、茎粗、植株投影面积、冠层占空体积等基础表型性状进行全自动、无损、高通量的表型分析。',
      features: ['高通量、全自动、电子识别', '"plant to sensor"模式', '宽光谱立体光源系统', '模块化传送单元', '方便拓展和升级', '界面友好的一键式分析软件、集成多种图像处理算法'],
      specifications: {
        '系统组成': '盆栽传送单元、成像暗室（支持多个）、RGB成像单元、多视角立体成像三维点云单元、高光谱成像单元、激光雷达单元、热成像单元、叶绿素荧光成像单元、自动浇水单元、自动称重单元、控制系统及分析软件',
        '测量模式': '"plant to sensor"模式',
        '植物类型': '适用于水稻、玉米、花卉及蔬菜等盆栽植物',
        '测量参数': '株高、株宽、茎粗、植株投影面积、冠层占空体积等基础表型性状',
        '光源系统': '宽光谱立体光源系统'
      },

      images: ['https://images.unsplash.com/photo-1542831371-29b0f74f9713?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop'],
      applications: ['温室研究', '盆栽实验', '精准农业', '品种改良', '病虫害监测', '植物新品种鉴定测试', '干旱等胁迫对植株的影响'],
      sampleTypes: ['适用于盆栽植物'],
      researchBackground: '在设施农业升级与盆栽作物（如蔬菜、花卉、药用植物）育种研究深化的背景下，温室盆栽植物表型（如株型结构、叶片形态、生长速率、胁迫响应等）的高通量、精准化监测，成为优化盆栽种植管理、加速育种筛选、解析环境因子影响的关键需求；但传统盆栽表型测量依赖人工逐盆观测，不仅效率低下、数据主观性强，还易因频繁操作干扰盆栽生长环境，而早期表型设备或聚焦田间大尺度场景，或仅能实现单一维度测量，难以适配温室盆栽"小空间、多批次、精细化"的监测需求。随着设施农业向"精准化调控、高效化育种、智能化管理"发展，适配温室盆栽场景的专用高通量表型设备需求愈发迫切，m-CTP温室盆栽高通量表型平台由此研发，填补了温室盆栽植物表型高效精准监测的技术空白，为盆栽作物育种改良、种植环境优化及植物生理研究提供核心支撑。',
      measurableParameters: {
        'RGB成像单元': '株高、株宽、质心坐标、覆盖度、叶面积、周长、凸包最长轴、凸包最短轴、凸包顶点数、最小外接椭圆横坐标、最小外接椭圆纵坐标、最小外接椭圆长轴长、最小外接椭圆短轴长、最小外接圆直径、最小外接矩形长度、最小外接矩形宽度、植物绿色等级、植物投影面积、熵值、均匀度、标准差、三阶矩、小梯度优势、灰度分布不均匀性、灰度均值、灰度熵、混合熵、逆差分矩、梯度标准差、对比度、平均值、平滑度、相关性、大梯度优势、梯度分别不均匀性、梯度均值、梯度熵、差分矩、灰度标准差、能量',
        '高光谱成像单元': '宽度绿度指数：归一化差异植被指数(NDV)、三角形植被指数(TV)、绿色归一化差异植被指数(GDV川)、差异化植被指数(DV)、增强植被指数(EV)、大气阻抗植被指数(ARV)、归一化差异红边植被指数(NDRE)、比值植被指数(RVI)、窄度绿度指数：红边归一化植被指数(NDVⅥ705)、红边指数(VOG)、光利用率指数：光化学植被指数(PR)、结构不敏感色素指数(SP)、干旱或碳衰减指数：植被衰减指数(PSRI)、叶色素指数：土壤调节植被指数(SAV)、最优化土壤调节植被指数(OSAV)、转换叶绿素指吸收指数(TCARI)、类胡萝卜素反射指数1(CRI1)、类胡萝卜素反射指数 2(CRI2)、花青素反射指数1(ARI1)、花青素反射指数2(ARI2)、特定色素简单比值指数PSSRa、特定色素简单比值指数PSSRb、冠层水分含量：水波段指数(WB)、反演指数：SPAD(叶绿素相对含量)、饱和光下光合速率、氮含量、叶绿素A含量、叶绿素B含量',
        '激光雷达单元': '株高、株宽、冠幅、植株分层切片、植株分层投影面积、叶面积',
        '热红外单元': '植物表面温度，干旱胁迫研究、蒸腾研究',
        '多视角立体成像三维点云单元': '株高、株宽、冠幅、植物投影面积、植物占空体积、植物包围体积、植物正面/底面投影包围面积、植物正面/底面投影凸包面积、植被体素个数、植株质心质心位置、提取植物骨架，叶片分割、叶长、叶宽、叶向值、叶面积、叶倾角、植株分层投影面积、冠层光线分布模拟计算、计算冠层光合速率',
        '叶绿素荧光成像单元': '获取荧光参数Fo、Fm、Ft、Fm\'、Fo\',计算标准光合荧光参数Fv/Fm、PSII、NPQ等。分析植物生理状态、表征植物光合作用效率，用于植物衰老研究等'
      }
    },
    {
      id: 'a-ctp',
      name: '植物三维成像与建模系统a-CTP',
      category: '植物表型',
      description: '植物三维成像与建模系统（a-CTP）提供了一套完整的三维冠层模型构建和分析原始方案。该设备通过多视角相机立体视觉技术对单株植物进行三维点云获取，能实现噪点过滤，从点云数据可以分析获取三维株型参数，包括株高、冠辐、黄叶比例、空间体积、点云空间分布参数等。',
      features: ['获得多格式的原始三维点云数据', '三维点云数据预处理', '批量处理、生成植物模型', '通过点云计算植物表型、进行切片、骨架分割', '依据单株模型构建群体冠层模型', '光线追踪模拟计算冠层光分布', '结合叶片光合曲线测量数据，计算冠层光合速率'],
      specifications: {
        '相机数量': '6个/8个/12个（可定制）',
        '系统原理': '多视角立体视觉3D成像',
        '单株植物照片采集时间': '不超过120s (单个模型全方位照片)',
        '成像器件': '2400万像素级成像单元',
        '传感器': 'APS-C画幅(22.3*14.9mm)',
        '对焦方式': '自动/手动',
        '快门速度': '1/4000-30秒，B门，闪光同步速度1/200秒',
        '连拍功能': '支持(最高约5张/秒)',
        '测光方式': '评价测光，局部测光，中央重点测光，点测光',
        '续拍能力': '外部连续供电，可持续续拍(支持连续工作时间>10小时，连续工作拍摄张数>3000张)',
        '白平衡': '自动(氛围优先)，自动(白色优先)，预设(日光，阴影，阴天，钨丝灯，白色荧光灯，闪光灯)，用户自定义具备白平衡校正和白平衡包围曝光',
        '感光度': 'ISO 100-25600，可扩展51200',
        '图像数据格式': 'JPG',
        '拍摄范围': '30cm×30cm×65cm - 60cm×60cm×130cm，可调节',
        '拍摄方式': '转台自动控制，自动拍摄',
        '同步触发': '相机硬件同步触发；闪光灯同步触发',
        '同步触发时间': '低于1ms',
        '照明方式': '影室闪光灯×4台',
        '电控转台': '1个',
        '结构框架材质': '铝合金，配备可程控转台'
      },

      images: ['https://images.unsplash.com/photo-1581092795360-fd1ca04f0958?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop'],
      applications: ['结构分析', '生物量计算', '生长建模', '虚拟植物', '植物遗传与发育研究', '植物逆境胁迫响应', '作物理想株型研究'],
      researchBackground: '植物三维形态，也称为株型，作为最基本的植物表型，是植物表型研究中的核心要素。植物三维株型结构直接决定了冠层的光吸收能力以及光在冠层内的分布，进而影响植物叶片对光能的转化效率，并最终影响冠层光合速率。因此，构建准确的植物三维冠层模型并对冠层光合速率进行模拟和分布，对于研究冠层光合作用以及理想株型都至关重要。植物表型过去依赖肉眼观察和手工测量，肉眼观察只能进行对植物的表型进行描述，无法将表型参数量化；手工测量可以获取植物直径、叶长、叶片数目等指标，获得的性状参数有限且缺乏规范性。随着科研需求的增长和技术方法的发展，进行快速、精准和经济的植物多表型数据测定和环境参数监控的必要性和可行性已经具备。',
      technicalHighlights: [
        '多视角相机立体视觉技术，实现高精度三维点云获取',
        '噪点过滤功能，提高数据准确性',
        '深度学习算法进行叶片分割，计算叶片尺度的叶长、叶宽、叶面积、叶倾角、叶向值等参数',
        '骨架结构分析与提取功能',
        '群体模拟和光线追踪模拟计算功能',
        '结合叶片光合曲线测量数据，计算冠层光合速率'
      ]
    },
    {
      id: 'icm',
      name: '成像与建模分析系统ICM',
      category: '植物表型',
      description: 'ICM采用二维图像采集、处理与数字水稻模型相结合的解决方案，测量一株水稻只需要15-20分钟。通过对被测植物在不同空间层次和角度上的图像采集，获取其精细结构特征参数，包括株高、分蘖数、各叶位叶片叶面积、叶长、叶宽、叶角、叶片弯曲度、叶片卷曲度、穗长、穗粒数、着粒密度、一次枝梗数等。',
      features: ['采用二维图像采集、处理与数字水稻模型相结合的解决方案', '测量一株水稻只需要15-20分钟', '获取精细结构特征参数', '模型计算分析叶片及冠层光合特征', '图像采集、参数提取和数据分析一体化'],
      specifications: {
        '图像采集单元传感器类型': 'CMOS',
        '传感器尺寸': '全画幅(35.9*24mm)',
        '有效像素': '3600万',
        '最高分辨率': '7360×4912',
        '显示屏类型': '高清屏',
        '显示屏尺寸': '3.2英寸',
        '显示屏像素': '123万像素液晶屏',
        '传感器个数': '3',
        '红外遥控器': '1个',
        '液晶屏特性': '约170°可视角度的TFT显示屏，约100%画面覆盖率，可进行亮度调节',
        '数据存储与分析单元CPU类型': 'Intel E5-2620v4,入核，16线程',
        '内存类型': 'DDR4,16GB',
        '硬盘': 'SSD512GB+SATA4TB',
        '显卡': 'NVIDIA QuadroRTX40008G',
        '图像采集软件': '预装',
        '参数提取软件': '预装',
        '数据分析软件': '预装',
        '数据展示软件': '预装'
      },

      images: ['https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop'],
      applications: ['数据分析', '科研报告', '品种比较', '趋势分析', '水稻品种研究', '水稻株型分析', '冠层光合作用研究'],
      technicalHighlights: [
        '专为水稻等具有多分蘖的株型特点植物设计',
        '通过2D图像拍摄与分析的方式获取单个分蘖的株型结构参数',
        '配有一整套的图像参数提取软件',
        '三维模型构建、光线模拟与冠层光合分析软件',
        '整个设备集硬件和软件于一体，可以全程完成样品测量、参数提取和数据分析等工作'
      ]
    },
    {
      id: 'a-ctp-64',
      name: '64相机植物瞬时三维成像与建模系统a-CTP',
      category: '植物表型',
      description: '植物瞬时三维成像与建模系统基于系统通过多视角相机立体视觉技术，对单株植物进行瞬时成像，在0.1s内拍摄64幅图像，系统自带三维重建软件可计算三维点云。针对不同植物，可用于设计开发基于点云的株型参数提取算法等。',
      features: ['获得多格式的原始三维点云数据', '三维点云数据预处理', '批量处理、生成植物模型', '通过点云计算植物表型、进行切片、骨架分割', '依据单株模型构建群体冠层模型', '光线追踪模拟计算冠层光分布', '结合叶片光合曲线测量数据，计算冠层光合速率', '瞬时成像，避免运动伪影'],
      specifications: {
        '相机数量': '64个',
        '系统原理': '多视角立体视觉3D成像',
        '单株植物照片采集时间': '0.1s (单个模型全方位照片)',
        '成像器件': '2400万像素级成像单元',
        '传感器': 'APS-C画幅(22.3*14.9mm)',
        '对焦方式': '自动/手动',
        '快门速度': '1/4000-30秒，B门，闪光同步速度1/200秒',
        '连拍功能': '支持(最高约5张/秒)',
        '测光方式': '评价测光，局部测光，中央重点测光，点测光',
        '续拍能力': '外部连续供电，可持续续拍(支持连续工作时间>10小时，连续工作拍摄张数>3000张)',
        '白平衡': '自动(氛围优先)，自动(白色优先)，预设(日光，阴影，阴天，钨丝灯，白色荧光灯，闪光灯)，用户自定义具备白平衡校正和白平衡包围曝光',
        '感光度': 'ISO 100-25600，可扩展51200',
        '图像数据格式': 'JPG',
        '拍摄范围': '30cm×30cm×65cm - 60cm×60cm×130cm，可调节',
        '拍摄方式': '转台自动控制，自动拍摄',
        '同步触发': '相机硬件同步触发；闪光灯同步触发',
        '同步触发时间': '低于1ms',
        '照明方式': '影室闪光灯×4台',
        '电控转台': '1个',
        '结构框架材质': '铝合金，配备可程控转台'
      },

      images: ['https://images.unsplash.com/photo-1542831371-29b0f74f9713?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop'],
      applications: ['高精度研究', '动态分析', '精密育种', '基础研究', '植物遗传与发育研究', '植物逆境胁迫响应', '作物理想株型研究'],
      researchBackground: '植物三维形态，也称为株型，作为最基本的植物表型，是植物表型研究中的核心要素。植物三维株型结构直接决定了冠层的光吸收能力以及光在冠层内的分布，进而影响植物叶片对光能的转化效率，并最终影响冠层光合速率。因此，构建准确的植物三维冠层模型并对冠层光合速率进行模拟和分布，对于研究冠层光合作用以及理想株型都至关重要。植物表型过去依赖肉眼观察和手工测量，肉眼观察只能进行对植物的表型进行描述，无法将表型参数量化；手工测量可以获取植物直径、叶长、叶片数目等指标，获得的性状参数有限且缺乏规范性。随着科研需求的增长和技术方法的发展，进行快速、精准和经济的植物多表型数据测定和环境参数监控的必要性和可行性已经具备。',
      literature: [{
        authors: 'Song Q, Liu F, Bu H, Zhu XG',
        title: 'Quantifying Contributions of Different Factors to Canopy Photosynthesis in 2 Maize Varieties: Development of a Novel 3D Canopy Modeling Pipeline',
        journal: 'Plant Phenomics',
        year: '2023',
        volume: '5',
        pages: '0075'
      }],
      technicalHighlights: [
        '64相机阵列设计，实现0.1s内瞬时成像',
        '无运动伪影的高精度建模',
        '针对不同植物，可用于设计开发基于点云的株型参数提取算法',
        '从点云建立网格模型，该模型可用于计算冠层光合作用',
        '支持对光线追踪模拟计算等',
        '是一种新型的、无损测量技术，将难以描述的植物表型标准化、数字化、可重复'
      ]
    }],

    'environment': [{
      id: 'cmc',
      name: '冠层微气候测量仪CMC',
      category: '环境监测',
      description: '通过采用多支光合有效光子通量密度三合一传感器垂直立体布置，可同步测量作物不同冠层高度的光合有效光量子通量密度、温度及相对湿度。该设备操作简单，传感器高度可以调节，且具备优异的防水能力，可在田间灵活离线布置。',
      features: ['高精度传感器，数据一致性高', 'U盘数据存储，csv格式存储', '自动记录数据，可设置1-10s一次', '田间灵活插拔使用', '配田间地插底座，方便多点测量', '大容量锂电池供电，长时间监测'],
      specifications: {
        '测量微气候参数': '光合有效辐射PAR，温度，湿度',
        '测量冠层高度': '10层，可调节',
        '采样频率': '间隔10s（可定制）',
        '采样方式': '全天候自动测量',
        '传感器分布方式': '全天不互相遮挡，每个传感器可拆卸移动，可调节高度',
        '传感器数量': '10套，防水防尘IP67',
        '传感器精度': '光量子1umol/m2/s，温度0.2℃，湿度3%',
        '测量数据格式': 'CSV表格',
        '支撑杆高度': '1米，带刻度标记',
        '田间测量模式': '垂直安装测量，配多个底座方便多点移动采样',
        '供电方式': '锂电池供电，电池单次使用时间>72h'
      },

      images: ['https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop'],
      applications: ['测量冠层内部PAR垂直分布曲线', '温、湿度的垂直分布曲线', '测量冠层微气候随时间的动态', '测量冠层吸光度及全天动态', '作物理想株型研究', '植物冠层光合研究', '冠层光截获及利用效率研究', '动态光合作用研究', '作物高光效研究'],
      researchBackground: '植物株型及冠层结构主要影响冠层内的微⽓候因⼦，进⽽影响不同⾼度叶⽚的实际光合效率以及冠层光合效率。植物冠层内的光强、温度及湿度随⾼度变化，⽽且由于环境波动以及叶⽚相互遮荫效应的影响⽽随时间动态变化。波动光下光合效率是当前⾼光效研究的领域前沿。冠层微⽓候数据是植物形态发育研究、"理想株型"育种、⾼产栽培研究的重要数据。',
      technicalHighlights: [
        '多支光合有效光子通量密度三合一传感器垂直立体布置',
        '可同步测量作物不同冠层高度的光合有效光量子通量密度、温度及相对湿度',
        '操作简单，传感器高度可以调节',
        '具备优异的防水能力，可在田间灵活离线布置',
        '采用大功率蓄电池及U盘数据存储',
        '数据采集间隔时间可调节（最短0.1s）'
      ]
    },
    {
      id: 'cmc-distributed',
      name: '多点分布式冠层微气侯测量系统CMC',
      category: '环境监测',
      description: '多点分布式冠层微气候测量系统采用多节点分布式测量，可自动采集植物冠层不同高度的光合有效辐射PAR、温度和湿度等微气候数据。该系统配置16个采集节点，每个节点具有10层传感器且高度可以调节，数据采集间隔时间10s（最短0.1s）。',
      features: ['高精度传感器，数据一致性高', 'U盘数据存储，csv格式存储', '自动记录数据，可设置1-10s一次', '田间灵活插拔使用', '配田间地插底座，方便多点测量', '大容量锂电池供电，长时间监测', '多节点分布式测量'],
      specifications: {
        '微气候采集节点': '16个',
        '每节点测量微气候参数': '测量400nm-700nm光合有效波段光量子通量密度、温度、相对湿度',
        '测量冠层高度': '10层，高度可调节',
        '采样频率': '间隔10s（可定制）',
        '采样方式': '全天候自动测量',
        '传感器分布方式': '全天不互相遮挡，每个传感器可拆卸移动，可调节高度',
        '传感器数量': '10套，防水防尘IP67',
        '传感器精度': '光量子1umol/m2/s，温度0.2℃，湿度3%',
        '测量数据格式': 'CSV表格',
        '支撑杆高度': '1米，带刻度标记',
        '田间测量模式': '多节点垂直安装测量，配多个底座方便多点移动采样',
        '供电方式': '锂电池供电，电池单次使用时间>72h',
        '平均功耗': '0.1W',
        '工作温度': '-25℃-60℃'
      },

      images: ['https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop', 'https://images.unsplash.com/photo-1593115048165-9dc1b9d0c6ab?w=800&h=600&fit=crop'],
      applications: ['测量冠层内部PAR垂直分布曲线', '温、湿度的垂直分布曲线', '测量冠层微气候随时间的动态', '测量冠层吸光度及全天动态', '作物理想株型研究', '植物冠层光合研究', '冠层光截获及利用效率研究', '动态光合作用研究', '作物高光效研究', '大田监测', '森林生态', '智慧农业', '环境网络'],
      researchBackground: '植物株型及冠层结构主要影响冠层内的微⽓候因⼦，进⽽影响不同⾼度叶⽚的实际光合效率以及冠层光合效率。植物冠层内的光强、温度及湿度随⾼度变化，⽽且由于环境波动以及叶⽚相互遮荫效应的影响⽽随时间动态变化。波动光下光合效率是当前⾼光效研究的领域前沿。冠层微⽓候数据是植物形态发育研究、"理想株型"育种、⾼产栽培研究的重要数据。大田作物冠层微气候数据是植物形态发育研究、"理想株型"育种、高产栽培研究的重要数据。',
      technicalHighlights: [
        '多节点分布式测量，可自动采集植物冠层不同高度的微气候数据',
        '配置16个采集节点，每个节点具有10层传感器且高度可以调节',
        '数据采集间隔时间10s（最短0.1s）',
        '高精度传感器，数据一致性高',
        'U盘数据存储，csv格式存储，便于数据分析',
        '田间灵活插拔使用，配田间地插底座，方便多点测量',
        '大容量锂电池供电，支持长时间监测'
      ]
    }] };


  const getAllProducts = () => {
    if (selectedCategory === 'all') {
      return Object.values(products).flat();
    }
    return products[selectedCategory] || [];
  };
  const handleProductClick = (product) => {
    setSelectedProduct(product);
    setCurrentImageIndex(0);
  };
  const handlePrevImage = () => {
    if (selectedProduct) {
      setCurrentImageIndex((prev) => (prev - 1 + selectedProduct.images.length) % selectedProduct.images.length);
    }
  };
  const handleNextImage = () => {
    if (selectedProduct) {
      setCurrentImageIndex((prev) => (prev + 1) % selectedProduct.images.length);
    }
  };
  const filteredProducts = getAllProducts();
  return <div className="min-h-screen bg-gray-50 dark:bg-gray-900 pb-16">
      <LogoHeader />
      
      <div className="px-4 py-6">
        {/* 页面标题 */}
        <div className="flex items-center mb-6">
          <button onClick={() => $w.utils.navigateTo({
          pageId: 'home',
          params: {} })}
        className="mr-3 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors">
            <ArrowLeft className="w-5 h-5 text-gray-600 dark:text-gray-300" />
          </button>
          <h1 className="text-2xl font-bold text-gray-900 dark:text-white">
            产品中心
          </h1>
        </div>

        {/* 分类筛选 */}
        <div className="mb-6">
          <div className="flex space-x-2 overflow-x-auto pb-2">
            {categories.map((category) => <button key={category.id} onClick={() => setSelectedCategory(category.id)} className={`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${selectedCategory === category.id ? 'bg-green-600 text-white' : 'bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-700'}`}>
                <span>{category.name}</span>
              </button>)}
          </div>
        </div>

        {/* 产品列表 */}
        <div className="grid grid-cols-1 gap-4">
          {filteredProducts.map((product) => <div key={product.id} onClick={() => handleProductClick(product)} className="bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-all cursor-pointer overflow-hidden">
              <div className="aspect-video bg-gray-200 dark:bg-gray-700 relative overflow-hidden">
                <img src={product.images[0]} alt={product.name} className="w-full h-full object-cover" onError={(e) => {
              e.target.src = 'https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=600&fit=crop';
            }} />
                <div className="absolute top-2 right-2 bg-green-600 text-white px-2 py-1 rounded text-xs font-medium">
                  {product.category}
                </div>
              </div>
              <div className="p-4">
                <h3 className="font-semibold text-gray-900 dark:text-white mb-2">
                  {product.name}
                </h3>
                <p className="text-sm text-gray-600 dark:text-gray-300 line-clamp-3">
                  {product.description}
                </p>
                <div className="mt-3 flex flex-wrap gap-1">
                  {product.features.slice(0, 3).map((feature, index) => <span key={index} className="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded">
                      {feature}
                    </span>)}
                  {product.features.length > 3 && <span className="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded">
                      +{product.features.length - 3}
                    </span>}
                </div>
              </div>
            </div>)}
        </div>
      </div>

      {/* 产品详情弹窗 */}
      {selectedProduct && <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" onClick={(e) => {
      if (e.target === e.currentTarget) {
        setSelectedProduct(null);
      }
    }}>
          <div className="bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto" onClick={(e) => e.stopPropagation()}>
            {/* 关闭按钮 */}
            <div className="sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between">
              <h2 className="text-xl font-bold text-gray-900 dark:text-white">
                {selectedProduct.name}
              </h2>
              <button onClick={() => setSelectedProduct(null)} className="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                <X className="w-5 h-5 text-gray-500" />
              </button>
            </div>

            <div className="p-6 space-y-6">
              {/* 图片轮播 */}
              <div className="relative">
                <div className="aspect-video bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden">
                  <img src={selectedProduct.images[currentImageIndex]} alt={selectedProduct.name} className="w-full h-full object-cover" />
                </div>
                {selectedProduct.images.length > 1 && <>
                    <button onClick={handlePrevImage} className="absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 transition-colors">
                      <ChevronLeft className="w-5 h-5" />
                    </button>
                    <button onClick={handleNextImage} className="absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 transition-colors">
                      <ChevronRight className="w-5 h-5" />
                    </button>
                    <div className="absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-1">
                      {selectedProduct.images.map((_, index) => <div key={index} className={`w-2 h-2 rounded-full transition-colors ${index === currentImageIndex ? 'bg-white' : 'bg-white bg-opacity-50'}`} />)}
                    </div>
                  </>}
              </div>

              {/* 产品信息 */}
              <div className="grid md:grid-cols-2 gap-6">
                <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3">
                    产品描述
                  </h3>
                  <p className="text-gray-600 dark:text-gray-300 leading-relaxed">
                    {selectedProduct.description}
                  </p>
                </div>

                <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3">
                    核心特性
                  </h3>
                  <ul className="space-y-2">
                    {selectedProduct.features.map((feature, index) => <li key={index} className="flex items-center space-x-2 text-gray-600 dark:text-gray-300">
                        <CheckCircle className="w-4 h-4 text-green-500 flex-shrink-0" />
                        <span>{feature}</span>
                      </li>)}
                  </ul>
                </div>
              </div>

              {/* 研究背景 - 所有显示研究背景的产品 */}
              {(selectedProduct.id === 'capts' || selectedProduct.id === 'c-ghg' || selectedProduct.id === 'p-chamber' || selectedProduct.id === 'fdm-m' || selectedProduct.id === 'fdm-s' || selectedProduct.id === 'fdm-l' || selectedProduct.id === 'fdm-r' || selectedProduct.id === 'mctp' || selectedProduct.id === 'm-ctp-greenhouse' || selectedProduct.id === 'a-ctp' || selectedProduct.id === 'a-ctp-64' || selectedProduct.id === 'icm' || selectedProduct.id === 'cmc' || selectedProduct.id === 'cmc-distributed') && selectedProduct.researchBackground && <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center">
                    {selectedProduct.id === 'c-ghg' ? <Globe className="w-5 h-5 mr-2 text-green-500" /> : selectedProduct.id === 'p-chamber' ? <Microscope className="w-5 h-5 mr-2 text-purple-500" /> : selectedProduct.id === 'fdm-m' || selectedProduct.id === 'fdm-s' || selectedProduct.id === 'fdm-l' || selectedProduct.id === 'fdm-r' ? <Camera className="w-5 h-5 mr-2 text-blue-500" /> : selectedProduct.id === 'mctp' || selectedProduct.id === 'm-ctp-greenhouse' || selectedProduct.id === 'a-ctp' || selectedProduct.id === 'a-ctp-64' || selectedProduct.id === 'icm' ? <Activity className="w-5 h-5 mr-2 text-indigo-500" /> : selectedProduct.id === 'cmc' || selectedProduct.id === 'cmc-distributed' ? <Globe className="w-5 h-5 mr-2 text-green-500" /> : <BookOpen className="w-5 h-5 mr-2 text-blue-500" />}
                    研究背景
                  </h3>
                  <div className={`${selectedProduct.id === 'c-ghg' || selectedProduct.id === 'cmc' || selectedProduct.id === 'cmc-distributed' ? 'bg-green-50 dark:bg-green-900/20 border-green-500' : selectedProduct.id === 'p-chamber' ? 'bg-purple-50 dark:bg-purple-900/20 border-purple-500' : selectedProduct.id === 'fdm-m' || selectedProduct.id === 'fdm-s' || selectedProduct.id === 'fdm-l' || selectedProduct.id === 'fdm-r' ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-500' : selectedProduct.id === 'mctp' || selectedProduct.id === 'm-ctp-greenhouse' || selectedProduct.id === 'a-ctp' || selectedProduct.id === 'a-ctp-64' || selectedProduct.id === 'icm' ? 'bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500' : 'bg-blue-50 dark:bg-blue-900/20 border-blue-500'} border-l-4 p-4 rounded`}>
                    <p className="text-gray-700 dark:text-gray-300 leading-relaxed text-sm">
                      {selectedProduct.researchBackground}
                    </p>
                  </div>
                </div>}

              {/* 技术亮点 - 所有显示技术亮点的产品 */}
              {(selectedProduct.id === 'p-chamber' || selectedProduct.id === 'c-ghg' || selectedProduct.id === 'fdm-m' || selectedProduct.id === 'fdm-s' || selectedProduct.id === 'fdm-l' || selectedProduct.id === 'fdm-r' || selectedProduct.id === 'a-ctp' || selectedProduct.id === 'a-ctp-64' || selectedProduct.id === 'icm' || selectedProduct.id === 'cmc' || selectedProduct.id === 'cmc-distributed') && selectedProduct.technicalHighlights && <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center">
                    <Zap className="w-5 h-5 mr-2 text-orange-500" />
                    技术亮点
                  </h3>
                  <div className="bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-4 rounded">
                    <ul className="space-y-2">
                      {selectedProduct.technicalHighlights.map((highlight, index) => <li key={index} className="flex items-start space-x-2 text-gray-700 dark:text-gray-300 text-sm">
                          <div className="w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"></div>
                          <span>{highlight}</span>
                        </li>)}
                    </ul>
                  </div>
                </div>}

              {/* 适用样本类型 - 所有显示适用样本类型的产品 */}
              {(selectedProduct.id === 'fdm-m' || selectedProduct.id === 'fdm-s' || selectedProduct.id === 'fdm-l' || selectedProduct.id === 'fdm-r' || selectedProduct.id === 'mctp' || selectedProduct.id === 'm-ctp-greenhouse') && selectedProduct.sampleTypes && <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center">
                    <Leaf className="w-5 h-5 mr-2 text-green-500" />
                    适用样本类型
                  </h3>
                  <div className="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4 rounded">
                    <div className="flex flex-wrap gap-2">
                      {selectedProduct.sampleTypes.map((sample, index) => <span key={index} className="px-3 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 rounded-full text-sm">
                          {sample}
                        </span>)}
                    </div>
                  </div>
                </div>}

              {/* 可测量参数 - 所有显示可测量参数的产品 */}
              {(selectedProduct.id === 'fdm-m' || selectedProduct.id === 'fdm-s' || selectedProduct.id === 'fdm-l' || selectedProduct.id === 'fdm-r' || selectedProduct.id === 'mctp' || selectedProduct.id === 'm-ctp-greenhouse') && selectedProduct.measurableParameters && <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center">
                    <Activity className="w-5 h-5 mr-2 text-indigo-500" />
                    可测量参数
                  </h3>
                  <div className="bg-indigo-50 dark:bg-indigo-900/20 border-l-4 border-indigo-500 p-4 rounded">
                    {typeof selectedProduct.measurableParameters === 'object' && Object.keys(selectedProduct.measurableParameters).length > 0 ? 
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                        {Object.entries(selectedProduct.measurableParameters).map(([param, desc], index) => (
                          <div key={index} className="flex items-start space-x-2">
                            <div className="w-2 h-2 bg-indigo-500 rounded-full mt-1.5 flex-shrink-0"></div>
                            <div>
                              <span className="font-medium text-gray-900 dark:text-white text-sm">{param}:</span>
                              <span className="text-gray-600 dark:text-gray-300 text-sm ml-1">{desc}</span>
                            </div>
                          </div>
                        ))}
                      </div> : 
                      <div className="space-y-2">
                        {Array.isArray(selectedProduct.measurableParameters) ? 
                          selectedProduct.measurableParameters.map((param, index) => (
                            <div key={index} className="flex items-start space-x-2">
                              <div className="w-2 h-2 bg-indigo-500 rounded-full mt-1.5 flex-shrink-0"></div>
                              <span className="text-gray-600 dark:text-gray-300 text-sm">{param}</span>
                            </div>
                          )) :
                          <span className="text-gray-600 dark:text-gray-300 text-sm">{selectedProduct.measurableParameters}</span>
                        }
                      </div>
                    }
                  </div>
                </div>}

              {/* 技术规格 */}
              <div>
                <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3">
                  技术规格
                </h3>
                <div className="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {Object.entries(selectedProduct.specifications).map(([key, value]) => <div key={key} className="flex justify-between items-start">
                        <span className="text-sm text-gray-600 dark:text-gray-300 flex-1 mr-2">
                          {key}:
                        </span>
                        <span className="text-sm font-medium text-gray-900 dark:text-white text-right flex-1 break-words">
                          {value}
                        </span>
                      </div>)}
                  </div>
                </div>
              </div>

              {/* 应用领域 */}
              <div>
                <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3">
                  应用领域
                </h3>
                <div className="flex flex-wrap gap-2">
                  {selectedProduct.applications.map((application, index) => <span key={index} className="px-3 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full text-sm">
                      {application}
                    </span>)}
                </div>
              </div>

              {/* 已发表文献 - 仅CAPTS产品显示 */}
              {selectedProduct.id === 'capts' && selectedProduct.literature && <div>
                  <h3 className="text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center">
                    <BookOpen className="w-5 h-5 mr-2 text-purple-500" />
                    已发表文献
                  </h3>
                  <div className="space-y-3">
                    {selectedProduct.literature.map((paper, index) => <div key={index} className="bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500 p-4 rounded">
                        <div className="flex items-start justify-between">
                          <div className="flex-1">
                            <h4 className="font-medium text-gray-900 dark:text-white text-sm mb-1">
                              {paper.title}
                            </h4>
                            <p className="text-xs text-gray-600 dark:text-gray-400 mb-1">
                              {paper.authors}
                            </p>
                            <p className="text-xs text-gray-500 dark:text-gray-500">
                              {paper.journal} ({paper.year}) {paper.volume && `Vol. ${paper.volume}`} {paper.issue && `Issue ${paper.issue}`} {paper.pages && `pp. ${paper.pages}`}
                            </p>
                          </div>
                          <button className="ml-2 p-2 hover:bg-purple-100 dark:hover:bg-purple-800 rounded transition-colors" onClick={() => {
                    toast({
                      title: '文献引用',
                      description: '文献信息已复制到剪贴板' });

                  }}>
                            <Download className="w-4 h-4 text-purple-600 dark:text-purple-400" />
                          </button>
                        </div>
                      </div>)}
                  </div>
                </div>}
            </div>
          </div>
        </div>}

      <TabBar currentPage="products" onPageChange={handleTabChange} />
    </div>;
}